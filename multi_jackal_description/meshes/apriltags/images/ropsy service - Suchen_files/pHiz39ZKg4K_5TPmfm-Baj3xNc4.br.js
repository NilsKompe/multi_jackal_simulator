var GPTHomeScreen;(function(n){function fi(n){var i,r,t,u,f;if(n&&(t=(i=n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),t)&&(u=(r=t.shadowRoot)===null||r===void 0?void 0:r.querySelector(b),u)&&ni){if(ri)CIB.onModeChanging(function(n){n!=="conversation"||nt||(SydFSCHelper.setFreeSydneyData(),nt=!0)});else SydFSCHelper.setFreeSydneyData();if(k&&(f=ut(),f||(p(n),g=!0)),CIB===null||CIB===void 0?void 0:CIB.onFreeSydneyPersonaChanged){CIB.onFreeSydneyPersonaChanged(function(i){if(k&&d&&g&&(!i||i.type==="Copilot")){d=!1;return}it();ti&&(i&&i.id!=="copilot"?(CIB.config.features.enablePrivacyProtectedConversation||(CIB.config.features.enablePrivacyProtectedConversation=!0),CIB.setPrivacyForConversation(!0)):(CIB.config.features.enablePrivacyProtectedConversation=ii,CIB.setPrivacyForConversation(!1)));i&&i.type!=="Copilot"?ft(n,u,t,i):p(n)});sj_evt.bind("renderWsSlot",ei,!0)}}}function it(){var n,t=document.getElementById("b_sydWelcomeTemplate_");t&&((n=t.parentNode)===null||n===void 0?void 0:n.removeChild(t))}function ei(n){var t=n[1],i=n.length>2?n[2]:w;rt(t,a,i)}function rt(n,t,i,r){var f,e,u,o;if((r===void 0&&(r=0),!(r>3))&&(u=(f=n.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),u)){if(o=(e=u.shadowRoot)===null||e===void 0?void 0:e.querySelector(b),!o){setTimeout(function(){rt(n,t,i,r+1)},12);return}et(o,u,t,i)}}function ut(){try{var n=new URLSearchParams(_w.location.search),t=n.get("gptId");if(t)return!0}catch(i){}return!1}function p(n){sj_evt.fire("cib_init",n);oi();r&&st(r)}function oi(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function ft(n,i,r,u){var f,e,o;u.type!=="Custom"||u.welcomeTiles&&((f=u.welcomeTiles)===null||f===void 0?void 0:f.length)!==0||(u.welcomeTiles=FreeSydneyHelper.getDefaultCustomWelcomeTiles());e=function(){return u.welcomeTiles};o=u.welcomeTiles?function(){return Promise.resolve(u.welcomeTiles)}:null;t&&tt===(u===null||u===void 0?void 0:u.id)||(t=hi(u),SydWelcomeScreenBase.setTileContainer(t,!1,o,e));tt=u===null||u===void 0?void 0:u.id;t&&(si(n),et(i,r,a,w))}function si(n){(t===null||t===void 0?void 0:t.id.slice(-1))!=="_"&&(t.id=t.getAttribute("id")+"_");t===null||t===void 0?void 0:t.setAttribute("slot",a);n.appendChild(t)}function et(n,t,i,r){var u=n.querySelector("slot[name=".concat(r)),f;u||(u=SydWelcomeScreenBase.createSlot(r),n.prepend(u));f=t.querySelector("slot[name=".concat(i));f||(f=SydWelcomeScreenBase.createSlot(i,u),t.append(f),t.removeAttribute("empty"))}function hi(n){var o,f=sj_ce(i,ht,ct),u,r,c,l,a;f.setAttribute(lt,"2");var e=sj_ce(i,null,at),s=sj_ce(i,null,yt),h=(o=n.type)===null||o===void 0?void 0:o.toLowerCase(),t=sj_ce(i,null,vt+" "+h);return ui&&(n===null||n===void 0?void 0:n.icon)&&(t.style.content="url(".concat(n.icon,")")),t.setAttribute("role","img"),t.setAttribute("alt",h),t.setAttribute("aria-label",h+" Logo"),t.setAttribute("tab-index","0"),u=sj_ce(i,null,pt),u.innerHTML=ot(n.displayName||n.name),u.setAttribute("role","heading"),u.setAttribute("aria-level","2"),r=sj_ce(i,null,wt),r.innerHTML=ot(n.welcomeHeader||n.description||""),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),s.appendChild(t),s.appendChild(u),e.appendChild(s),r.innerHTML&&e.appendChild(r),c=n.type!=="Custom"?dt:n.authorName,l=sj_ce(i,null,bt),l.innerHTML=v===null||v===void 0?void 0:v.replace("{0}",c),e.appendChild(l),st(y===null||y===void 0?void 0:y.replace("{0}",c)),a=sj_ce(i,null,kt),f.appendChild(e),f.appendChild(a),f}function ot(n){if(n)return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function st(n){var u=_d.querySelector("cib-serp"),t,i,f;(u===null||u===void 0?void 0:u.shadowRoot)&&(t=u.shadowRoot.querySelector("cib-conversation"),(t===null||t===void 0?void 0:t.shadowRoot)&&(i=t.shadowRoot.querySelector("cib-welcome-container"),(i===null||i===void 0?void 0:i.shadowRoot)&&(f=i.shadowRoot.querySelector(gt),f&&(r||(r=f.innerHTML),f.innerHTML=n))))}var u,f,e,o,s,h,c,l,ht="b_sydWelcomeTemplate",ct="b_wlcmCont",i="div",a="wlcmCntnr",w="wlcmCntnrChld",lt="data-priority",at="b_wlcmHdr",vt="b_wlcmPersLogo",yt="b_wlcmPersLogoCont",pt="b_wlcmPersName",wt="b_wlcmPersDesc",bt="b_wlcmPersAuthorText",kt="b_wlcmTileCont",dt="Microsoft",gt=".preview-container .preview-disclaimer .disclaimer span",ni=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFreeSydney,!1),ti=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFreeSydneyPrivacy,!1),ii=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enablePrivacyProtectedConversation,!1),ri=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableDelayGet1PGpts,!1),b="#cib-chat-main",v=(s=_w._sydConvTranslation)===null||s===void 0?void 0:s.freeSydneyWelcomeAuthorText,y=(h=_w._sydConvTranslation)===null||h===void 0?void 0:h.sydneyGptCreatorWelcomeMessage,k=SydFSCHelper.getConfigOrDefault((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enable1pGPTPreLoadForCopilot,!1,!0),ui=SydFSCHelper.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enable1pGptsApi,!1),d=!0,g=!1,nt=!1,tt,t,r;n.attachPersonaChangeEvents=fi;n.removeLastWelcomeContainer=it;n.isGPTIdInUrlParams=ut;n.renderCopilotPage=p;n.setWelcomeScreenContentForFreeSydney=ft})(GPTHomeScreen||(GPTHomeScreen={}))